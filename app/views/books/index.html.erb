<html>
  <head>
    <link rel="stylesheet" media="all" href="/assets/application.css" data-turbolinks-trac="reload">
    <script src="/assets/application.js" data-turbolinks-track="reload"></script>
    <title>bookers</title>
    <meta name="csrf-param" content="authenticity_token">
    <meta name="csrf-token" content="E5IEc0IqvCNmSHf0PAEKUAqqe6Y3XTL9JcAhMNlFUArOC+bcWINXVHWwvhKqczW9O3JOIMBgAba5VhZTz4JhGQ==">
  </head>

  <body>
    <h1>Books</h1>
    <table>
      <thead>
        <tr>
         <th>Title</th>
         <th>Body<th>
         <th colspan="3"></th>
        </tr>
      </thead>
      <% @books.each do |book|%>
        <tbody>
          <td><%= book.title %></td>
          <td><%= book.body %></td>
          <td><%= link_to "Show", book_path(book) %></td>
          <td><%= link_to "Edit", edit_book_path(book) %></td>
          <td><%= link_to "Destroy", book_path(book), method: :delete, "data-confirm" => "Are you sure?" %></td>
        </tbody>
      <% end %>
    </table>
    
    <form class="new_book" id="new_book" action="/books" accept-charset="UTF-8" method="post">
      <h2>New book</h2>
      <%= form_with model:@book,local:true do |f| %>
        <% if @book.errors.any? %>
          <div id="error_explanation">
            <h2><%= @book.errors.count %>errors prohibited this book from being saved:</h2>
            <ul>
              <li>
                Title can't be blank
              </li>
              <li>
                Body can't be blank
              </li>
            </ul>
          </div> 
        <% end %>
          <div class="field">          
            <%= f.label :title %>
            <%= f.text_field :title %>
          </div>
          
          <div class="field">
            <%= f.label :body %>
            <%= f.text_area :body %>
          </div>
        <div class="actions">
          <%= f.submit 'Create Book' %>
        </div>
      <% end %>  
    </form>
  </body>

</html>